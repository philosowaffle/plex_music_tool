<h1>Plex SmartPlaylists</h1>

{% if error_message %}<p><strong>{{ error_message }}</strong></p>{% endif %}

<form action="{% url 'smartPlaylists:setDatabasePath' %}" method="post">
{% csrf_token %}
{{ db_path_form }}
<input type="submit" value="Update Path" />
</form>

<br />
<br />

<b>New Playlist:</b>
<form action="{% url 'smartPlaylists:addPlaylist' %}" method="post">
{% csrf_token %}
{{ playlist_form }}
<input type="submit" value="Test Query" />
<input type="submit" value="Create Playlist" />
</form>

<table>
    <tr>
        <th>Name</th>
        <th>Description</th>
        <th>Query</th>
        <th>Last Updated</th>
    </tr>
    {% for playlist in playlists %}
    <tr>
        <td>{{ playlist.name }}</td>
        <td>{{ playlist.description }}</td>
        <td>{{ playlist.query }}</td>
        <td>{{ playlist.last_updated }}</td>
        <td><button>Edit</button></td>
        <td><button>Delete</button></td>
    </tr>
{% endfor %}
</table>

<br />
<br />

<b>Songs:</b>
<ul>
{% for song in songs %}
    <li>{{ song.title }}</li>
{% endfor %}
</ul>